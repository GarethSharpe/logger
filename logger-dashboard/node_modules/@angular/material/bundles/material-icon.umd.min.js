/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/material/core"),require("@angular/cdk/rxjs"),require("@angular/common/http"),require("@angular/platform-browser"),require("rxjs/Observable"),require("rxjs/observable/forkJoin"),require("rxjs/observable/of"),require("rxjs/observable/throw")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/material/core","@angular/cdk/rxjs","@angular/common/http","@angular/platform-browser","rxjs/Observable","rxjs/observable/forkJoin","rxjs/observable/of","rxjs/observable/throw"],e):e((t.ng=t.ng||{},t.ng.material=t.ng.material||{},t.ng.material.icon=t.ng.material.icon||{}),t.ng.core,t.ng.material.core,t.ng.cdk.rxjs,t.ng.common.http,t.ng.platformBrowser,t.Rx,t.Rx.Observable,t.Rx.Observable,t.Rx.Observable)}(this,function(t,e,n,r,o,i,s,a,c,l){"use strict";function u(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function p(t){return Error('Unable to find icon with the name "'+t+'"')}function g(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function f(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \""+t+'".')}function h(t,e,n){return t||new S(e,n)}function v(t){return t.cloneNode(!0)}function m(t,e){return t+":"+e}var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},_=function(){function t(t){this.url=t,this.svgElement=null}return t}(),S=function(){function t(t,e){this._httpClient=t,this._sanitizer=e,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons"}return t.prototype.addSvgIcon=function(t,e){return this.addSvgIconInNamespace("",t,e)},t.prototype.addSvgIconInNamespace=function(t,e,n){var r=m(t,e);return this._svgIconConfigs.set(r,new _(n)),this},t.prototype.addSvgIconSet=function(t){return this.addSvgIconSetInNamespace("",t)},t.prototype.addSvgIconSetInNamespace=function(t,e){var n=new _(e),r=this._iconSetConfigs.get(t);return r?r.push(n):this._iconSetConfigs.set(t,[n]),this},t.prototype.registerFontClassAlias=function(t,e){return void 0===e&&(e=t),this._fontCssClassesByAlias.set(t,e),this},t.prototype.classNameForFontAlias=function(t){return this._fontCssClassesByAlias.get(t)||t},t.prototype.setDefaultFontSetClass=function(t){return this._defaultFontSetClass=t,this},t.prototype.getDefaultFontSetClass=function(){return this._defaultFontSetClass},t.prototype.getSvgIconFromUrl=function(t){var n=this,o=this._sanitizer.sanitize(e.SecurityContext.RESOURCE_URL,t);if(!o)throw f(t);var i=this._cachedIconsByUrl.get(o);return i?c.of(v(i)):r.RxChain.from(this._loadSvgIconFromConfig(new _(t))).call(r.doOperator,function(t){return n._cachedIconsByUrl.set(o,t)}).call(r.map,function(t){return v(t)}).result()},t.prototype.getNamedSvgIcon=function(t,e){void 0===e&&(e="");var n=m(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);var o=this._iconSetConfigs.get(e);return o?this._getSvgFromIconSetConfigs(t,o):l._throw(p(n))},t.prototype._getSvgFromConfig=function(t){return t.svgElement?c.of(v(t.svgElement)):r.RxChain.from(this._loadSvgIconFromConfig(t)).call(r.doOperator,function(e){return t.svgElement=e}).call(r.map,function(t){return v(t)}).result()},t.prototype._getSvgFromIconSetConfigs=function(t,n){var o=this,i=this._extractIconWithNameFromAnySet(t,n);if(i)return c.of(i);var l=n.filter(function(t){return!t.svgElement}).map(function(t){return r.RxChain.from(o._loadSvgIconSetFromConfig(t)).call(r.catchOperator,function(n){var r=o._sanitizer.sanitize(e.SecurityContext.RESOURCE_URL,t.url);return console.log("Loading icon set URL: "+r+" failed: "+n),c.of(null)}).call(r.doOperator,function(e){e&&(t.svgElement=e)}).result()});return r.map.call(a.forkJoin.call(s.Observable,l),function(){var e=o._extractIconWithNameFromAnySet(t,n);if(!e)throw p(t);return e})},t.prototype._extractIconWithNameFromAnySet=function(t,e){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.svgElement){var o=this._extractSvgIconFromSet(r.svgElement,t);if(o)return o}}return null},t.prototype._loadSvgIconFromConfig=function(t){var e=this;return r.map.call(this._fetchUrl(t.url),function(t){return e._createSvgElementForSingleIcon(t)})},t.prototype._loadSvgIconSetFromConfig=function(t){var e=this;return r.map.call(this._fetchUrl(t.url),function(t){return e._svgElementFromString(t)})},t.prototype._createSvgElementForSingleIcon=function(t){var e=this._svgElementFromString(t);return this._setSvgAttributes(e),e},t.prototype._extractSvgIconFromSet=function(t,e){var n=t.querySelector("#"+e);if(!n)return null;if("svg"===n.tagName.toLowerCase())return this._setSvgAttributes(n.cloneNode(!0));if("symbol"===n.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(n));var r=this._svgElementFromString("<svg></svg>");return r.appendChild(n.cloneNode(!0)),this._setSvgAttributes(r)},t.prototype._svgElementFromString=function(t){var e=document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n},t.prototype._toSvgElement=function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===Node.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e},t.prototype._setSvgAttributes=function(t){return t.getAttribute("xmlns")||t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),t},t.prototype._fetchUrl=function(t){var n=this;if(!this._httpClient)throw g();var o=this._sanitizer.sanitize(e.SecurityContext.RESOURCE_URL,t);if(!o)throw f(t);var i=this._inProgressUrlFetches.get(o);if(i)return i;var s=r.RxChain.from(this._httpClient.get(o,{responseType:"text"})).call(r.finallyOperator,function(){return n._inProgressUrlFetches.delete(o)}).call(r.share).result();return this._inProgressUrlFetches.set(o,s),s},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.HttpClient,decorators:[{type:e.Optional}]},{type:i.DomSanitizer}]},t}(),y={provide:S,deps:[[new e.Optional,new e.SkipSelf,S],[new e.Optional,o.HttpClient],i.DomSanitizer],useFactory:h},I=function(){function t(t,e){this._renderer=t,this._elementRef=e}return t}(),C=n.mixinColor(I),F=function(t){function n(e,n,r,o){var i=t.call(this,e,n)||this;return i._iconRegistry=r,o||e.setAttribute(n.nativeElement,"aria-hidden","true"),i}return u(n,t),n.prototype._splitIconName=function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'+t+'"')}},n.prototype.ngOnChanges=function(t){var e=this;if(t.svgIcon)if(this.svgIcon){var n=this._splitIconName(this.svgIcon),o=n[0],i=n[1];r.first.call(this._iconRegistry.getNamedSvgIcon(i,o)).subscribe(function(t){return e._setSvgElement(t)},function(t){return console.log("Error retrieving icon: "+t.message)})}else this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()},n.prototype.ngOnInit=function(){this._usingFontIcon()&&this._updateFontIconClasses()},n.prototype._usingFontIcon=function(){return!this.svgIcon},n.prototype._setSvgElement=function(t){this._clearSvgElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)},n.prototype._clearSvgElement=function(){for(var t=this._elementRef.nativeElement,e=t.childNodes.length,n=0;n<e;n++)this._renderer.removeChild(t,t.childNodes[n])},n.prototype._updateFontIconClasses=function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&this._renderer.removeClass(t,this._previousFontSetClass),e&&this._renderer.addClass(t,e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&this._renderer.removeClass(t,this._previousFontIconClass),this.fontIcon&&this._renderer.addClass(t,this.fontIcon),this._previousFontIconClass=this.fontIcon)}},n.decorators=[{type:e.Component,args:[{template:"<ng-content></ng-content>",selector:"mat-icon",exportAs:"matIcon",styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}"],inputs:["color"],host:{role:"img",class:"mat-icon"},encapsulation:e.ViewEncapsulation.None,preserveWhitespaces:!1,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:e.Renderer2},{type:e.ElementRef},{type:S},{type:void 0,decorators:[{type:e.Attribute,args:["aria-hidden"]}]}]},n.propDecorators={svgIcon:[{type:e.Input}],fontSet:[{type:e.Input}],fontIcon:[{type:e.Input}]},n}(C),b=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.MatCommonModule],exports:[F,n.MatCommonModule],declarations:[F],providers:[y]}]}],t.ctorParameters=function(){return[]},t}();t.MatIconModule=b,t.MatIconBase=I,t._MatIconMixinBase=C,t.MatIcon=F,t.getMatIconNameNotFoundError=p,t.getMatIconNoHttpProviderError=g,t.getMatIconFailedToSanitizeError=f,t.MatIconRegistry=S,t.ICON_REGISTRY_PROVIDER_FACTORY=h,t.ICON_REGISTRY_PROVIDER=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=/home/travis/build/angular/material2/dist/bundles/material-icon.umd.min.js.map